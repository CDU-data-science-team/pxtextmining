<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://the-strategy-unit.github.io/pxtextmining/getting%20started/package/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Package structure - pxtextmining</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../assets/_mkdocstrings.css" rel="stylesheet" />
        <link href="../../main.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Package structure";
        var mkdocs_page_input_path = "getting started\\package.md";
        var mkdocs_page_url = "/pxtextmining/getting%20started/package/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> pxtextmining
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../about/">Project background</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting started</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../install/">Install</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Package structure</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#pxtextmining">pxtextmining</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#api">API</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../training_new_model/">Training a new model</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../using_trained_model/">Using a trained model</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">API</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../reference/API/API/">pxtextmining API overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../reference/API/quick_API/">Quick API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../reference/API/slow_API/">Slow API</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Docker</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../reference/Docker/docker_README/">Using our Docker container</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Pxtextmining</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="#">Factories</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../reference/pxtextmining/factories/factory_data_load_and_split/">Factory data load and split</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../reference/pxtextmining/factories/factory_model_performance/">Factory model performance</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../reference/pxtextmining/factories/factory_pipeline/">Factory pipeline</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../reference/pxtextmining/factories/factory_predict_unlabelled_text/">Factory predict unlabelled text</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../reference/pxtextmining/factories/factory_write_results/">Factory write results</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Helpers</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../reference/pxtextmining/helpers/text_preprocessor/">Text preprocessor</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Pipelines</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../reference/pxtextmining/pipelines/multilabel_pipeline/">Multilabel pipeline</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../reference/pxtextmining/pipelines/sentiment_pipeline/">Sentiment pipeline</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">pxtextmining</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Getting started</li>
      <li class="breadcrumb-item active">Package structure</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="package-structure">Package structure</h1>
<h2 id="pxtextmining">pxtextmining</h2>
<p>The <code>pxtextmining</code> package is constructed using the following elements:</p>
<ul>
<li>
<p><strong><code>pxtextmining.factories</code></strong>
This module contains vast majority of the code in the package. There are five different stages, each corresponding to a different submodule.</p>
<ul>
<li>
<p><code>factory_data_load_and_split</code>: Loading of multilabel data, preprocessing, and splitting into train/test/validation sets as appropriate.</p>
</li>
<li>
<p><code>factory_pipeline</code>: Construction and training of different models/estimators/algorithms using the <code>sklearn</code>, <code>tensorflow.keras</code> and <code>transformers</code> libraries.</p>
</li>
<li>
<p><code>factory_model_performance</code>: Evaluation of a trained model, comparing predicted targets with real target values, to produce performance metrics. The decision-making process behind the peformance metrics chosen can be seen on the <a href="https://the-strategy-unit.github.io/PatientExperience-QDC/pxtextmining/performance_metrics.html">project documentation website</a>. The performance metrics for the current best models utilised in the API can be found in the <code>current_best_multilabel</code> folder in the main repository.</p>
</li>
<li>
<p><code>factory_predict_unlabelled_text</code>: Prepares unlabelled text (with or without additional features such as question type) in a format suitable for each model type, and passes this through the selected models, to produce predicted labels.</p>
</li>
</ul>
</li>
<li>
<p><strong><code>pxtextmining.helpers</code></strong>
This module contains some helper functions which are used in <code>pxtextmining.factories</code>. Some of this is legacy code, so this may just be moved into the <code>factories</code> submodule in future versions of the package.</p>
</li>
<li>
<p><strong><code>pxtextmining.pipelines</code></strong>
All of the processes in <code>pxtextmining.factories</code> are pulled together in <code>multilabel_pipeline</code>, to create the complete end-to-end process of data processing, model creation, training, evaluation, and saving.</p>
</li>
</ul>
<p>There is also a <code>pxtextmining.params</code> file which is used to standardise specific variables that are used across the entire package. The aim of this is to reduce repetition across the package, for example when trying different targets or model types.</p>
<h2 id="api">API</h2>
<p>Separate from the <code>pxtextmining</code> package is the API, which can be found in the folder <code>api</code>. It is constructed using FastAPI and Uvicorn. The aim of the API is to make the trained machine learning models available publicly, so that predictions can be made on any text. The API is not currently publicly available and access is only for participating partner trusts. However, all the code and documentation is available on our github repository.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../install/" class="btn btn-neutral float-left" title="Install"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../training_new_model/" class="btn btn-neutral float-right" title="Training a new model">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../install/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../training_new_model/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
