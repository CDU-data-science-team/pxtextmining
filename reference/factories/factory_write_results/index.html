<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://cdu-data-science-team.github.io/pxtextmining/reference/factories/factory_write_results/" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Factory write results - pxtextmining</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../../assets/_mkdocstrings.css" rel="stylesheet" />
        <link href="../../../main.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Factory write results";
        var mkdocs_page_input_path = "reference/factories/factory_write_results.md";
        var mkdocs_page_url = "/pxtextmining/reference/factories/factory_write_results/";
      </script>
    
    <script src="../../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> pxtextmining
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../../about/">Project background</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../getting%20started/install/">Install</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../getting%20started/training_new_model/">Training a new model</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../getting%20started/using_trained_model/">Using a trained model</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Factories</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../factory_data_load_and_split/">Factory data load and split</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../factory_model_performance/">Factory model performance</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../factory_pipeline/">Factory pipeline</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../factory_predict_unlabelled_text/">Factory predict unlabelled text</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">Factory write results</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#pxtextmining.factories.factory_write_results.factory_write_results">factory_write_results()</a>
    </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Helpers</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/decode_emojis/">Decode emojis</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/estimator_switcher/">Estimator switcher</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/feature_selection_switcher/">Feature selection switcher</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/metrics/">Metrics</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/ordinal_classification/">Ordinal classification</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/oversampling/">Oversampling</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/passthrough/">Passthrough</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/scaler_switcher/">Scaler switcher</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/sentiment_scores/">Sentiment scores</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/text_length/">Text length</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/text_preprocessor/">Text preprocessor</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/text_transformer_switcher/">Text transformer switcher</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/theme_binarization/">Theme binarization</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/tokenization/">Tokenization</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../helpers/word_vectorization/">Word vectorization</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Pipelines</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../pipelines/text_classification_pipeline/">Text classification pipeline</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">pxtextmining</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Reference &raquo;</li>
          <li>Factories &raquo;</li>
      <li>Factory write results</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <div class="doc doc-object doc-module">



<h4 id="pxtextmining.factories.factory_write_results" class="doc doc-heading">
          <code>factory_write_results</code>


</h4>

  <div class="doc doc-contents first">

  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h5 id="pxtextmining.factories.factory_write_results.factory_write_results" class="doc doc-heading">
<code class="highlight language-python"><span class="n">factory_write_results</span><span class="p">(</span><span class="n">pipe</span><span class="p">,</span> <span class="n">tuning_results</span><span class="p">,</span> <span class="n">pred</span><span class="p">,</span> <span class="n">accuracy_per_class</span><span class="p">,</span> <span class="n">p_compare_models_bar</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">x_train</span><span class="p">,</span> <span class="n">x_test</span><span class="p">,</span> <span class="n">index_training_data</span><span class="p">,</span> <span class="n">index_test_data</span><span class="p">,</span> <span class="n">metric</span><span class="p">,</span> <span class="n">objects_to_save</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;pipeline&#39;</span><span class="p">,</span> <span class="s1">&#39;tuning results&#39;</span><span class="p">,</span> <span class="s1">&#39;predictions&#39;</span><span class="p">,</span> <span class="s1">&#39;accuracy per class&#39;</span><span class="p">,</span> <span class="s1">&#39;index - training data&#39;</span><span class="p">,</span> <span class="s1">&#39;index - test data&#39;</span><span class="p">,</span> <span class="s1">&#39;bar plot&#39;</span><span class="p">],</span> <span class="n">save_objects_to_server</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">save_objects_to_disk</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">save_pipeline_as</span><span class="o">=</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">results_folder_name</span><span class="o">=</span><span class="s1">&#39;results&#39;</span><span class="p">)</span></code>

</h5>


  <div class="doc doc-contents ">
  
      <p>Write the fitted pipeline and associated files. Writes between 1 to 7 files, depending on the value of argument
<code>objects_to_save</code>:</p>
<ul>
<li>The fitted pipeline (SAV);</li>
<li>All (hyper)parameters tried during fitting and the associated pipeline performance metrics (CSV);</li>
<li>The predictions on the test set (CSV);</li>
<li>Accuracies per class (CSV);</li>
<li>The row indices of the training data (CSV);</li>
<li>The row indices of the test data (CSV);</li>
<li>A bar plot comparing the mean scores (of the user-supplied metric parameter) from the cross-validation on
  the training set, for the best (hyper)parameter values for each learner (PNG);</li>
</ul>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>pipe</code></td>
          <td>
                <code>estimator</code>
          </td>
          <td><p>Fitted model or pipeline</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>tuning_results</code></td>
          <td>
                <code>pandas.core.frame.DataFrame</code>
          </td>
          <td><p>All (hyper)parameter values and models tried during fitting.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>pred</code></td>
          <td>
                <code>pandas.core.frame.DataFrame</code>
          </td>
          <td><p>The predictions on the test set.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>accuracy_per_class</code></td>
          <td>
                <code>pandas.core.frame.DataFrame</code>
          </td>
          <td><p>Accuracies per class.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>p_compare_models_bar</code></td>
          <td>
                <code>png</code>
          </td>
          <td><p>A bar plot comparing the mean scores (of the user-supplied metric parameter) from the cross-validation on the training set, for the best hyperparameter values for each learner.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>target</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Name of the response variable.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>x_train</code></td>
          <td>
                <code>pandas.core.frame.DataFrame</code>
          </td>
          <td><p>The training dataset.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>x_test</code></td>
          <td>
                <code>pandas.core.frame.DataFrame</code>
          </td>
          <td><p>The test dataset.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>metric</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Scorer that was used in pipeline tuning ("accuracy_score", "balanced_accuracy_score", "matthews_corrcoef" or "class_balance_accuracy_score").</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>objects_to_save</code></td>
          <td>
                <code>list[str]</code>
          </td>
          <td><p>The objects to save. Should be one or more of "pipeline", "tuning results", "predictions", "accuracy per class", "index - training data", "index - test data", "bar plot".</p></td>
          <td>
                <code>[&#39;pipeline&#39;, &#39;tuning results&#39;, &#39;predictions&#39;, &#39;accuracy per class&#39;, &#39;index - training data&#39;, &#39;index - test data&#39;, &#39;bar plot&#39;]</code>
          </td>
        </tr>
        <tr>
          <td><code>save_objects_to_server</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether to save the results to the server. <strong>NOTE:</strong> The feature that writes results to the database is for internal use only. Experienced users who would like to write the data to their own databases can, of course, achieve that by slightly modifying the relevant lines in the script.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>save_objects_to_disk</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether to save the results to disk. See <code>results_folder_name</code>.</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>save_pipeline_as</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Name of saved pipeline. If "default", then it will be saved as <code>'pipeline_' + target + '.sav'</code>.</p></td>
          <td>
                <code>&#39;default&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>results_folder_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Name of the folder that will contain all saved results specified in <code>objects_to_save</code>. If the folder already exists, it will be overwritten.</p></td>
          <td>
                <code>&#39;results&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple</code>
          </td>
          <td><p>A <code>tuple</code> of length 1 to 7, depending on the value of argument <code>objects_to_save</code>: The fitted pipeline (SAV); All (hyper)parameters tried during fitting and the associated pipeline performance metrics (CSV); The predictions on the test set (CSV); Accuracies per class (CSV); The row indices of the training data (CSV); The row indices of the test data (CSV); A bar plot comparing the mean scores (of the user-supplied metric parameter) from the cross-validation on the training set, for the best (hyper)parameter values for each learner (PNG)</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../factory_predict_unlabelled_text/" class="btn btn-neutral float-left" title="Factory predict unlabelled text"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../helpers/decode_emojis/" class="btn btn-neutral float-right" title="Decode emojis">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../factory_predict_unlabelled_text/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../helpers/decode_emojis/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme_extra.js" defer></script>
    <script src="../../../js/theme.js" defer></script>
      <script src="../../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
